# Distributed-Storage
分布式存储技术调研

## 对象存储

**对象存储有机融合了NAS可跨平台和SAN扩展性良好的优势，广泛应用于大规模集群系统。对象存储架构可以分为用户组件和存储组件两部分。**

![image](https://github.com/lus-oa/Distributed-Storage/assets/122666739/510621f6-9a8a-404b-afb7-9d8ac57ee001)


- **用户组件**向用户应用程序提供一些逻辑的数据结构，比如文件、路径及如何访问这些数据结构的接口。

- **存储组件**位于智能存储设备上，负责物理磁盘上具体数据块的组织。用户对存储设备的访问接口变为对象接口。这不同于传统的文件系统，文件系统的存储部分位于主机侧，对用户提供块接口。

![image](https://github.com/lus-oa/Distributed-Storage/assets/122666739/818a6dd1-ac61-4a6b-bef7-d08caac54f75)

**对象存储在数据共享、自管理和安全性方面具有如下特性：**

- **数据共享**:存储对象具有文件和块的优点，对象存储设备中的对象可以像数据块一样被直接访问，同时，对象接口还能像文件一样在不同操作系统平台上实现数据共享。

- **自管理**:对象存储设备的存储空间不再需要运行在主机上的文件系统管理而由存储设备自己管理和分配。最直接的效果是将空间管理从存储应用中剥离存储设备具有自管理特性，进而可以通过重新组织数据来提高性能，调整备份失败恢复等的策略。

- **安全性**:对象是关于一个存储设备的逻辑字节集合，它包含存储方法、数据属性和存储安全策略等。因此，对象存储系统在基于文件的数据布局、服务质量和安全性等方面有很大的改善。

### 对象存储核心组件

对象存储重新划分了数据存储的访问、控制、管理等基础存储功能，将原本文件系统的数据布局(即逻辑到物理的映射关系)在对象这一层实现，包含以下几种核心概念：

![image](https://github.com/lus-oa/Distributed-Storage/assets/122666739/41950341-60b1-4450-b036-7d6180c5f77c)

**1.对象**：对象存储系统中存储数据最基本的单位，也是最核心和基础的概念。对象负责存储一个或多个文件数据，同时包含数据的相关属性，这些属性用于定义基于文件的访问方法、安全策略等。每个对象都有唯一的对象标识。客户端通过对象标识、起始位置、数据长度等参数来访问该对象。

**2.OSD**:OSD(Object-based Storage Device，基于对象的存储设备)具有一定程度的智能，配备有单独的CPU、内存、网络系统和磁盘系统。OSD 的核心功能包括3个方面：
  - OSD 用于存储数据，能有效地管理与对象相关的数据并将它们放置在磁盘中。OSD 不提供块接口，当客户端发起数据请求时，根据其唯一ID 和偏移量进行数据访问。
  - OSD 具备智能数据布局的功能，这依赖于OSD内配备的专门 CPU 和内存资源，它们协同工作以优化数据布，进而提升磁盘性能。
  - OSD负责管理对象元数据，对象元数据的结构似于传统的inode，通常包含有关数据块和对象长度的详细信息。与这些元数据位于文件服务器权限之下的传统NAS系统相比，对象存储架构将这种管理功能集中在系统内，显著减少了客户的开销。

**3.MDS**:MDS(Metadata Service，元数据服务器)用于指导客户端与对象之间的交互，主要提供3个功能。
  - 一是对象存储访问。MDS 构建并维护文件目录树使客户端能够直接与对象交互，MDS 在这个过程中会授予客户端访问权限，每个访问请求在获得许可之前都会经过 OSD 的验证。
  - 二是管理文件和目录。MDS为存储系统内的文件建立了层次结构，支持目录和文件的创建、删除及访问控制等。
  - 三是维护客户端缓存一致性。为了提高客户端性能，对象存储文件系统通常包含客户端缓存机制。每当客户端缓存的文件发生更改时，MDS就会通知客户端，损示缓存刷新以避免因缓存数据不一致而引起的问题。

**4.对象存储文件系统的客户端**:与传统文件系统类似，计算节点需要运行对象存储文件系统的客户端，进而提供访问 OSD的能力，该客户端允许应用程序像访问标准POSIX文件系统一样对OSD进行读写操作。

## 并行存储

**并行存储主要应用于HPC(High Performance Computing，高性能计算)领域。**

高性能计算集群通过互连技术将大量计算机系统连接在一起，通过并行计算技术将所有被连接系统组织起来共同处理大型计算问题，其运算速度极高。

例如，我国的超级计算机“神威·太湖之光”的峰值运算速度达到了每秒12.5亿亿次。

**高性能计算对处理器、内存、存储等均有极高的要求。**
- 长期以来，存储技术一直是信息技术发展的短板，在高性能计算领域，这一问题更为显著:当成千上万的处理器单元在完成大型计算任务时，存储系统有限的I/O并发能力将难以满足计算集群的数据访问需求。
- 并行文件系统正是在这一背景下被广泛研究与应用，其包含的数据缓存与共享、细粒度并发控制、对并行计算编程模型的原生支持等技术在提升存储 I/O 并行能力方面扮演重要角色。
